(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const _ of l)if(_.type==="childList")for(const i of _.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const _={};return l.integrity&&(_.integrity=l.integrity),l.referrerPolicy&&(_.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?_.credentials="include":l.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function r(l){if(l.ep)return;l.ep=!0;const _=n(l);fetch(l.href,_)}})();var I,f,le,S,J,ie,q,M={},ce=[],$e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(t,e){for(var n in e)t[n]=e[n];return t}function se(t){var e=t.parentNode;e&&e.removeChild(t)}function Ce(t,e,n){var r,l,_,i={};for(_ in e)_=="key"?r=e[_]:_=="ref"?l=e[_]:i[_]=e[_];if(arguments.length>2&&(i.children=arguments.length>3?I.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)i[_]===void 0&&(i[_]=t.defaultProps[_]);return L(t,i,r,l,null)}function L(t,e,n,r,l){var _={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++le};return l==null&&f.vnode!=null&&f.vnode(_),_}function b(t){return t.children}function T(t,e){this.props=t,this.context=e}function N(t,e){if(e==null)return t.__?N(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?N(t):null}function ue(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return ue(t)}}function K(t){(!t.__d&&(t.__d=!0)&&S.push(t)&&!U.__r++||J!==f.debounceRendering)&&((J=f.debounceRendering)||ie)(U)}function U(){var t,e,n,r,l,_,i,s;for(S.sort(q);t=S.shift();)t.__d&&(e=S.length,r=void 0,l=void 0,i=(_=(n=t).__v).__e,(s=n.__P)&&(r=[],(l=C({},_)).__v=_.__v+1,R(s,_,l,n.__n,s.ownerSVGElement!==void 0,_.__h!=null?[i]:null,r,i??N(_),_.__h),pe(r,_),_.__e!=i&&ue(_)),S.length>e&&S.sort(q));U.__r=0}function ae(t,e,n,r,l,_,i,s,d,h){var o,v,a,c,p,x,m,g=r&&r.__k||ce,$=g.length;for(n.__k=[],o=0;o<e.length;o++)if((c=n.__k[o]=(c=e[o])==null||typeof c=="boolean"||typeof c=="function"?null:typeof c=="string"||typeof c=="number"||typeof c=="bigint"?L(null,c,null,null,c):Array.isArray(c)?L(b,{children:c},null,null,null):c.__b>0?L(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c)!=null){if(c.__=n,c.__b=n.__b+1,(a=g[o])===null||a&&c.key==a.key&&c.type===a.type)g[o]=void 0;else for(v=0;v<$;v++){if((a=g[v])&&c.key==a.key&&c.type===a.type){g[v]=void 0;break}a=null}R(t,c,a=a||M,l,_,i,s,d,h),p=c.__e,(v=c.ref)&&a.ref!=v&&(m||(m=[]),a.ref&&m.push(a.ref,null,c),m.push(v,c.__c||p,c)),p!=null?(x==null&&(x=p),typeof c.type=="function"&&c.__k===a.__k?c.__d=d=de(c,d,t):d=fe(t,c,a,g,p,d),typeof n.type=="function"&&(n.__d=d)):d&&a.__e==d&&d.parentNode!=t&&(d=N(a))}for(n.__e=x,o=$;o--;)g[o]!=null&&(typeof n.type=="function"&&g[o].__e!=null&&g[o].__e==n.__d&&(n.__d=he(r).nextSibling),me(g[o],g[o]));if(m)for(o=0;o<m.length;o++)ve(m[o],m[++o],m[++o])}function de(t,e,n){for(var r,l=t.__k,_=0;l&&_<l.length;_++)(r=l[_])&&(r.__=t,e=typeof r.type=="function"?de(r,e,n):fe(n,r,r,l,r.__e,e));return e}function fe(t,e,n,r,l,_){var i,s,d;if(e.__d!==void 0)i=e.__d,e.__d=void 0;else if(n==null||l!=_||l.parentNode==null)e:if(_==null||_.parentNode!==t)t.appendChild(l),i=null;else{for(s=_,d=0;(s=s.nextSibling)&&d<r.length;d+=1)if(s==l)break e;t.insertBefore(l,_),i=_}return i!==void 0?i:l.nextSibling}function he(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=he(n)))return r}return null}function Se(t,e,n,r,l){var _;for(_ in n)_==="children"||_==="key"||_ in e||F(t,_,null,n[_],r);for(_ in e)l&&typeof e[_]!="function"||_==="children"||_==="key"||_==="value"||_==="checked"||n[_]===e[_]||F(t,_,e[_],n[_],r)}function Y(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||$e.test(e)?n:n+"px"}function F(t,e,n,r,l){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Y(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Y(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?r||t.addEventListener(e,_?X:Q,_):t.removeEventListener(e,_?X:Q,_);else if(e!=="dangerouslySetInnerHTML"){if(l)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function Q(t){return this.l[t.type+!1](f.event?f.event(t):t)}function X(t){return this.l[t.type+!0](f.event?f.event(t):t)}function R(t,e,n,r,l,_,i,s,d){var h,o,v,a,c,p,x,m,g,$,D,H,G,P,E,k=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(d=n.__h,s=e.__e=n.__e,e.__h=null,_=[s]),(h=f.__b)&&h(e);try{e:if(typeof k=="function"){if(m=e.props,g=(h=k.contextType)&&r[h.__c],$=h?g?g.props.value:h.__:r,n.__c?x=(o=e.__c=n.__c).__=o.__E:("prototype"in k&&k.prototype.render?e.__c=o=new k(m,$):(e.__c=o=new T(m,$),o.constructor=k,o.render=He),g&&g.sub(o),o.props=m,o.state||(o.state={}),o.context=$,o.__n=r,v=o.__d=!0,o.__h=[],o._sb=[]),o.__s==null&&(o.__s=o.state),k.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=C({},o.__s)),C(o.__s,k.getDerivedStateFromProps(m,o.__s))),a=o.props,c=o.state,o.__v=e,v)k.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(k.getDerivedStateFromProps==null&&m!==a&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(m,$),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(m,o.__s,$)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(o.props=m,o.state=o.__s,o.__d=!1),o.__e=!1,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(A){A&&(A.__=e)}),D=0;D<o._sb.length;D++)o.__h.push(o._sb[D]);o._sb=[],o.__h.length&&i.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(m,o.__s,$),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(a,c,p)})}if(o.context=$,o.props=m,o.__P=t,H=f.__r,G=0,"prototype"in k&&k.prototype.render){for(o.state=o.__s,o.__d=!1,H&&H(e),h=o.render(o.props,o.state,o.context),P=0;P<o._sb.length;P++)o.__h.push(o._sb[P]);o._sb=[]}else do o.__d=!1,H&&H(e),h=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++G<25);o.state=o.__s,o.getChildContext!=null&&(r=C(C({},r),o.getChildContext())),v||o.getSnapshotBeforeUpdate==null||(p=o.getSnapshotBeforeUpdate(a,c)),E=h!=null&&h.type===b&&h.key==null?h.props.children:h,ae(t,Array.isArray(E)?E:[E],e,n,r,l,_,i,s,d),o.base=e.__e,e.__h=null,o.__h.length&&i.push(o),x&&(o.__E=o.__=null),o.__e=!1}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=xe(n.__e,e,n,r,l,_,i,d);(h=f.diffed)&&h(e)}catch(A){e.__v=null,(d||_!=null)&&(e.__e=s,e.__h=!!d,_[_.indexOf(s)]=null),f.__e(A,e,n)}}function pe(t,e){f.__c&&f.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){f.__e(r,n.__v)}})}function xe(t,e,n,r,l,_,i,s){var d,h,o,v=n.props,a=e.props,c=e.type,p=0;if(c==="svg"&&(l=!0),_!=null){for(;p<_.length;p++)if((d=_[p])&&"setAttribute"in d==!!c&&(c?d.localName===c:d.nodeType===3)){t=d,_[p]=null;break}}if(t==null){if(c===null)return document.createTextNode(a);t=l?document.createElementNS("http://www.w3.org/2000/svg",c):document.createElement(c,a.is&&a),_=null,s=!1}if(c===null)v===a||s&&t.data===a||(t.data=a);else{if(_=_&&I.call(t.childNodes),h=(v=n.props||M).dangerouslySetInnerHTML,o=a.dangerouslySetInnerHTML,!s){if(_!=null)for(v={},p=0;p<t.attributes.length;p++)v[t.attributes[p].name]=t.attributes[p].value;(o||h)&&(o&&(h&&o.__html==h.__html||o.__html===t.innerHTML)||(t.innerHTML=o&&o.__html||""))}if(Se(t,a,v,l,s),o)e.__k=[];else if(p=e.props.children,ae(t,Array.isArray(p)?p:[p],e,n,r,l&&c!=="foreignObject",_,i,_?_[0]:n.__k&&N(n,0),s),_!=null)for(p=_.length;p--;)_[p]!=null&&se(_[p]);s||("value"in a&&(p=a.value)!==void 0&&(p!==t.value||c==="progress"&&!p||c==="option"&&p!==v.value)&&F(t,"value",p,v.value,!1),"checked"in a&&(p=a.checked)!==void 0&&p!==t.checked&&F(t,"checked",p,v.checked,!1))}return t}function ve(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){f.__e(r,n)}}function me(t,e,n){var r,l;if(f.unmount&&f.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||ve(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(_){f.__e(_,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(l=0;l<r.length;l++)r[l]&&me(r[l],e,n||typeof t.type!="function");n||t.__e==null||se(t.__e),t.__=t.__e=t.__d=void 0}function He(t,e,n){return this.constructor(t,n)}function Ne(t,e,n){var r,l,_;f.__&&f.__(t,e),l=(r=typeof n=="function")?null:n&&n.__k||e.__k,_=[],R(e,t=(!r&&n||e).__k=Ce(b,null,[t]),l||M,M,e.ownerSVGElement!==void 0,!r&&n?[n]:l?null:e.firstChild?I.call(e.childNodes):null,_,!r&&n?n:l?l.__e:e.firstChild,r),pe(_,t)}I=ce.slice,f={__e:function(t,e,n,r){for(var l,_,i;e=e.__;)if((l=e.__c)&&!l.__)try{if((_=l.constructor)&&_.getDerivedStateFromError!=null&&(l.setState(_.getDerivedStateFromError(t)),i=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,r||{}),i=l.__d),i)return l.__E=l}catch(s){t=s}throw t}},le=0,T.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof t=="function"&&(t=t(C({},n),this.props)),t&&C(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),K(this))},T.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),K(this))},T.prototype.render=b,S=[],ie=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},U.__r=0;var j,y,V,Z,B=0,ye=[],W=[],ee=f.__b,te=f.__r,ne=f.diffed,_e=f.__c,re=f.unmount;function ge(t,e){f.__h&&f.__h(y,t,B||e),B=0;var n=y.__H||(y.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:W}),n.__[t]}function O(t){return B=1,De(be,t)}function De(t,e,n){var r=ge(j++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):be(void 0,e),function(s){var d=r.__N?r.__N[0]:r.__[0],h=r.t(d,s);d!==h&&(r.__N=[h,r.__[1]],r.__c.setState({}))}],r.__c=y,!y.u)){var l=function(s,d,h){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter(function(a){return a.__c});if(o.every(function(a){return!a.__N}))return!_||_.call(this,s,d,h);var v=!1;return o.forEach(function(a){if(a.__N){var c=a.__[0];a.__=a.__N,a.__N=void 0,c!==a.__[0]&&(v=!0)}}),!(!v&&r.__c.props===s)&&(!_||_.call(this,s,d,h))};y.u=!0;var _=y.shouldComponentUpdate,i=y.componentWillUpdate;y.componentWillUpdate=function(s,d,h){if(this.__e){var o=_;_=void 0,l(s,d,h),_=o}i&&i.call(this,s,d,h)},y.shouldComponentUpdate=l}return r.__N||r.__}function Pe(t,e){var n=ge(j++,3);!f.__s&&Le(n.__H,e)&&(n.__=t,n.i=e,y.__H.__h.push(n))}function Ee(){for(var t;t=ye.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(w),t.__H.__h.forEach(z),t.__H.__h=[]}catch(e){t.__H.__h=[],f.__e(e,t.__v)}}f.__b=function(t){y=null,ee&&ee(t)},f.__r=function(t){te&&te(t),j=0;var e=(y=t.__c).__H;e&&(V===y?(e.__h=[],y.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=W,n.__N=n.i=void 0})):(e.__h.forEach(w),e.__h.forEach(z),e.__h=[])),V=y},f.diffed=function(t){ne&&ne(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ye.push(e)!==1&&Z===f.requestAnimationFrame||((Z=f.requestAnimationFrame)||Ae)(Ee)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==W&&(n.__=n.__V),n.i=void 0,n.__V=W})),V=y=null},f.__c=function(t,e){e.some(function(n){try{n.__h.forEach(w),n.__h=n.__h.filter(function(r){return!r.__||z(r)})}catch(r){e.some(function(l){l.__h&&(l.__h=[])}),e=[],f.__e(r,n.__v)}}),_e&&_e(t,e)},f.unmount=function(t){re&&re(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{w(r)}catch(l){e=l}}),n.__H=void 0,e&&f.__e(e,n.__v))};var oe=typeof requestAnimationFrame=="function";function Ae(t){var e,n=function(){clearTimeout(r),oe&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);oe&&(e=requestAnimationFrame(n))}function w(t){var e=y,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),y=e}function z(t){var e=y;t.__c=t.__(),y=e}function Le(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function be(t,e){return typeof e=="function"?e(t):e}var Te=0;function u(t,e,n,r,l,_){var i,s,d={};for(s in e)s=="ref"?i=e[s]:d[s]=e[s];var h={type:t,props:d,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Te,__source:l,__self:_};if(typeof t=="function"&&(i=t.defaultProps))for(s in i)d[s]===void 0&&(d[s]=i[s]);return f.vnode&&f.vnode(h),h}function We({todos:t,setTodos:e,setShowWorkspaces:n}){return u("div",{class:"workspaces",children:t.map(r=>{const l=()=>{e(t.map(_=>_.id==r.id?{..._,color:(()=>{switch(r.color){case"red":return"orange";case"orange":return"yellow";case"yellow":return"green";case"green":return"blue";case"blue":return"pink";case"pink":return"purple";default:return"red"}})()}:_))};return u("div",{class:((r==null?void 0:r.color)||"orange")+" workspace",children:[u("div",{class:"title",onClick:()=>{n(r.id)},children:r==null?void 0:r.title}),u("div",{class:"tools",children:u("span",{class:"tool changeColor material-symbols-outlined icon",onClick:()=>{l()},children:"colorize"})})]})})})}function ke(t){let e=new Date(parseInt(`${t}`));return`${e.getDate()}-${e.getMonth()} ${e.getHours()}:${e.getMinutes()}`}function we({setTodos:t,todos:e}){let n=Date.now();return u("button",{class:"add_workspace",onClick:()=>{let r=new Date;t([...e,{title:ke(n),date:n,id:Date.now().toLocaleString(),color:"yellow",todos:[{content:`hello world ${r.getDate()}.${r.getMonth()}.${r.getFullYear()} !`,date:Date.now(),id:Date.now().toLocaleString()}]}])},children:"Add new"})}function Me({setTodos:t,todos:e,workspace:n,setAfter:r}){const[l,_]=O("");return u(b,{children:u("form",{class:"relative",onSubmit:i=>{i.preventDefault()},children:u("div",{class:"popup",children:[u("input",{type:"text",class:"input",placeholder:"Write some note...",onInput:i=>{var s;_((s=i.target)==null?void 0:s.value)},autofocus:!0}),u("div",{class:"content",children:[u("button",{type:"submit",class:"button _add",onClick:()=>{l&&(Ue({setTodos:t,todos:e,workspace:n},l),r(u(b,{})))},children:"Add"}),u("button",{type:"close",class:"button close",onClick:()=>{r(u(b,{}))},children:"Close"})]})]})})})}function Ue({setTodos:t,todos:e,workspace:n},r){t(e.map(l=>{if(l.id==n.id){let _=Date.now();return{...n,todos:[...n.todos,{content:r,date:_,id:_.toLocaleString()}]}}return l}))}function Fe({setTodos:t,todos:e,workspace:n}){const[r,l]=O(u(b,{}));return u(b,{children:[r,u("button",{class:"add",onClick:()=>{l(u(b,{children:u(Me,{setAfter:l,setTodos:t,todos:e,workspace:n})}))},children:"+"})]})}function Oe({id:t,setTodos:e,todo:n,todos:r,workspace:l}){return u("div",{class:"todo",children:[u("div",{class:"body",children:u("span",{class:"text",children:n})}),u("button",{class:"remove",onClick:()=>{l.todos=l.todos.filter(_=>_.id!=t),e(r.map(_=>_.id==l.id?{..._,todos:_.todos.filter(i=>i.id!=t)}:_))},children:u("span",{class:"material-symbols-outlined icon",children:"delete"})})]})}function Ie({setTodos:t,todos:e,id:n,setShowWorkspaces:r}){let l=e.find(i=>i.id==n),_=ke(l.date);return u("div",{class:"showWorkspace",children:l?u(b,{children:[u("div",{class:"header",children:[u("button",{class:"return",onClick:()=>{t(e.filter(i=>i.id!=n)),r("")},children:u("span",{class:"material-symbols-outlined icon",children:"delete"})}),u("input",{class:"title",onChange:i=>{t(e.map(s=>{var d;return s.id==l.id?{...l,title:((d=i.target)==null?void 0:d.value)||_}:s}))},value:l==null?void 0:l.title,placeholder:_}),u("button",{class:"return",onClick:()=>{r("")},children:u("span",{class:"material-symbols-outlined icon",children:"arrow_back"})})]}),u("div",{class:"todos",children:l==null?void 0:l.todos.map(i=>u(Oe,{id:i.id,todo:i.content,workspace:l,setTodos:t,todos:e}))}),u(Fe,{setTodos:t,todos:e,workspace:l})]}):u(b,{children:[u("h1",{children:"404"}),u("p",{children:"something broke... this note group doesn't exist"}),u("button",{class:"goback",onClick:()=>{r("")},children:"Go back"})]})})}function Ve(){const t=new Date,e=`${t.getDate()}.${t.getMonth()}`;let n=JSON.parse(localStorage.getItem("nk_todos")||"[]")||[];n||(n=[]);const[r,l]=O(""),[_,i]=O(n);return Pe(()=>{localStorage.setItem("nk_todos",JSON.stringify(_))},[_]),u(b,{children:r?u(Ie,{id:r,setShowWorkspaces:l,setTodos:i,todos:_}):u(b,{children:u("div",{class:"app",children:u("div",{class:"allWorkspaces",children:[u("div",{class:"header",children:["Notes ",u("span",{class:"clocks",children:e})]}),u(We,{setShowWorkspaces:l,setTodos:i,todos:_}),u(we,{setTodos:i,todos:_})]})})})})}Ne(u(Ve,{}),document.getElementById("app"));
