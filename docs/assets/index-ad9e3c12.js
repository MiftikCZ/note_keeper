(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const _ of l)if(_.type==="childList")for(const i of _.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const _={};return l.integrity&&(_.integrity=l.integrity),l.referrerPolicy&&(_.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?_.credentials="include":l.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function r(l){if(l.ep)return;l.ep=!0;const _=n(l);fetch(l.href,_)}})();var I,f,le,S,J,ie,q,U={},ce=[],$e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(e,t){for(var n in t)e[n]=t[n];return e}function se(e){var t=e.parentNode;t&&t.removeChild(e)}function Ce(e,t,n){var r,l,_,i={};for(_ in t)_=="key"?r=t[_]:_=="ref"?l=t[_]:i[_]=t[_];if(arguments.length>2&&(i.children=arguments.length>3?I.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(_ in e.defaultProps)i[_]===void 0&&(i[_]=e.defaultProps[_]);return L(e,i,r,l,null)}function L(e,t,n,r,l){var _={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++le};return l==null&&f.vnode!=null&&f.vnode(_),_}function b(e){return e.children}function T(e,t){this.props=e,this.context=t}function N(e,t){if(t==null)return e.__?N(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?N(e):null}function ue(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ue(e)}}function K(e){(!e.__d&&(e.__d=!0)&&S.push(e)&&!F.__r++||J!==f.debounceRendering)&&((J=f.debounceRendering)||ie)(F)}function F(){var e,t,n,r,l,_,i,s;for(S.sort(q);e=S.shift();)e.__d&&(t=S.length,r=void 0,l=void 0,i=(_=(n=e).__v).__e,(s=n.__P)&&(r=[],(l=C({},_)).__v=_.__v+1,j(s,_,l,n.__n,s.ownerSVGElement!==void 0,_.__h!=null?[i]:null,r,i??N(_),_.__h),pe(r,_),_.__e!=i&&ue(_)),S.length>t&&S.sort(q));F.__r=0}function ae(e,t,n,r,l,_,i,s,d,h){var o,v,a,c,p,x,y,g=r&&r.__k||ce,$=g.length;for(n.__k=[],o=0;o<t.length;o++)if((c=n.__k[o]=(c=t[o])==null||typeof c=="boolean"||typeof c=="function"?null:typeof c=="string"||typeof c=="number"||typeof c=="bigint"?L(null,c,null,null,c):Array.isArray(c)?L(b,{children:c},null,null,null):c.__b>0?L(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c)!=null){if(c.__=n,c.__b=n.__b+1,(a=g[o])===null||a&&c.key==a.key&&c.type===a.type)g[o]=void 0;else for(v=0;v<$;v++){if((a=g[v])&&c.key==a.key&&c.type===a.type){g[v]=void 0;break}a=null}j(e,c,a=a||U,l,_,i,s,d,h),p=c.__e,(v=c.ref)&&a.ref!=v&&(y||(y=[]),a.ref&&y.push(a.ref,null,c),y.push(v,c.__c||p,c)),p!=null?(x==null&&(x=p),typeof c.type=="function"&&c.__k===a.__k?c.__d=d=de(c,d,e):d=fe(e,c,a,g,p,d),typeof n.type=="function"&&(n.__d=d)):d&&a.__e==d&&d.parentNode!=e&&(d=N(a))}for(n.__e=x,o=$;o--;)g[o]!=null&&(typeof n.type=="function"&&g[o].__e!=null&&g[o].__e==n.__d&&(n.__d=he(r).nextSibling),ye(g[o],g[o]));if(y)for(o=0;o<y.length;o++)ve(y[o],y[++o],y[++o])}function de(e,t,n){for(var r,l=e.__k,_=0;l&&_<l.length;_++)(r=l[_])&&(r.__=e,t=typeof r.type=="function"?de(r,t,n):fe(n,r,r,l,r.__e,t));return t}function fe(e,t,n,r,l,_){var i,s,d;if(t.__d!==void 0)i=t.__d,t.__d=void 0;else if(n==null||l!=_||l.parentNode==null)e:if(_==null||_.parentNode!==e)e.appendChild(l),i=null;else{for(s=_,d=0;(s=s.nextSibling)&&d<r.length;d+=1)if(s==l)break e;e.insertBefore(l,_),i=_}return i!==void 0?i:l.nextSibling}function he(e){var t,n,r;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(r=he(n)))return r}return null}function Se(e,t,n,r,l){var _;for(_ in n)_==="children"||_==="key"||_ in t||w(e,_,null,n[_],r);for(_ in t)l&&typeof t[_]!="function"||_==="children"||_==="key"||_==="value"||_==="checked"||n[_]===t[_]||w(e,_,t[_],n[_],r)}function Y(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||$e.test(t)?n:n+"px"}function w(e,t,n,r,l){var _;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Y(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Y(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")_=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+_]=n,n?r||e.addEventListener(t,_?X:Q,_):e.removeEventListener(t,_?X:Q,_);else if(t!=="dangerouslySetInnerHTML"){if(l)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,n))}}function Q(e){return this.l[e.type+!1](f.event?f.event(e):e)}function X(e){return this.l[e.type+!0](f.event?f.event(e):e)}function j(e,t,n,r,l,_,i,s,d){var h,o,v,a,c,p,x,y,g,$,P,H,G,E,D,k=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(d=n.__h,s=t.__e=n.__e,t.__h=null,_=[s]),(h=f.__b)&&h(t);try{e:if(typeof k=="function"){if(y=t.props,g=(h=k.contextType)&&r[h.__c],$=h?g?g.props.value:h.__:r,n.__c?x=(o=t.__c=n.__c).__=o.__E:("prototype"in k&&k.prototype.render?t.__c=o=new k(y,$):(t.__c=o=new T(y,$),o.constructor=k,o.render=He),g&&g.sub(o),o.props=y,o.state||(o.state={}),o.context=$,o.__n=r,v=o.__d=!0,o.__h=[],o._sb=[]),o.__s==null&&(o.__s=o.state),k.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=C({},o.__s)),C(o.__s,k.getDerivedStateFromProps(y,o.__s))),a=o.props,c=o.state,o.__v=t,v)k.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(k.getDerivedStateFromProps==null&&y!==a&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(y,$),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(y,o.__s,$)===!1||t.__v===n.__v){for(t.__v!==n.__v&&(o.props=y,o.state=o.__s,o.__d=!1),o.__e=!1,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(A){A&&(A.__=t)}),P=0;P<o._sb.length;P++)o.__h.push(o._sb[P]);o._sb=[],o.__h.length&&i.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(y,o.__s,$),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(a,c,p)})}if(o.context=$,o.props=y,o.__P=e,H=f.__r,G=0,"prototype"in k&&k.prototype.render){for(o.state=o.__s,o.__d=!1,H&&H(t),h=o.render(o.props,o.state,o.context),E=0;E<o._sb.length;E++)o.__h.push(o._sb[E]);o._sb=[]}else do o.__d=!1,H&&H(t),h=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++G<25);o.state=o.__s,o.getChildContext!=null&&(r=C(C({},r),o.getChildContext())),v||o.getSnapshotBeforeUpdate==null||(p=o.getSnapshotBeforeUpdate(a,c)),D=h!=null&&h.type===b&&h.key==null?h.props.children:h,ae(e,Array.isArray(D)?D:[D],t,n,r,l,_,i,s,d),o.base=t.__e,t.__h=null,o.__h.length&&i.push(o),x&&(o.__E=o.__=null),o.__e=!1}else _==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=xe(n.__e,t,n,r,l,_,i,d);(h=f.diffed)&&h(t)}catch(A){t.__v=null,(d||_!=null)&&(t.__e=s,t.__h=!!d,_[_.indexOf(s)]=null),f.__e(A,t,n)}}function pe(e,t){f.__c&&f.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){f.__e(r,n.__v)}})}function xe(e,t,n,r,l,_,i,s){var d,h,o,v=n.props,a=t.props,c=t.type,p=0;if(c==="svg"&&(l=!0),_!=null){for(;p<_.length;p++)if((d=_[p])&&"setAttribute"in d==!!c&&(c?d.localName===c:d.nodeType===3)){e=d,_[p]=null;break}}if(e==null){if(c===null)return document.createTextNode(a);e=l?document.createElementNS("http://www.w3.org/2000/svg",c):document.createElement(c,a.is&&a),_=null,s=!1}if(c===null)v===a||s&&e.data===a||(e.data=a);else{if(_=_&&I.call(e.childNodes),h=(v=n.props||U).dangerouslySetInnerHTML,o=a.dangerouslySetInnerHTML,!s){if(_!=null)for(v={},p=0;p<e.attributes.length;p++)v[e.attributes[p].name]=e.attributes[p].value;(o||h)&&(o&&(h&&o.__html==h.__html||o.__html===e.innerHTML)||(e.innerHTML=o&&o.__html||""))}if(Se(e,a,v,l,s),o)t.__k=[];else if(p=t.props.children,ae(e,Array.isArray(p)?p:[p],t,n,r,l&&c!=="foreignObject",_,i,_?_[0]:n.__k&&N(n,0),s),_!=null)for(p=_.length;p--;)_[p]!=null&&se(_[p]);s||("value"in a&&(p=a.value)!==void 0&&(p!==e.value||c==="progress"&&!p||c==="option"&&p!==v.value)&&w(e,"value",p,v.value,!1),"checked"in a&&(p=a.checked)!==void 0&&p!==e.checked&&w(e,"checked",p,v.checked,!1))}return e}function ve(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){f.__e(r,n)}}function ye(e,t,n){var r,l;if(f.unmount&&f.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||ve(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(_){f.__e(_,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(l=0;l<r.length;l++)r[l]&&ye(r[l],t,n||typeof e.type!="function");n||e.__e==null||se(e.__e),e.__=e.__e=e.__d=void 0}function He(e,t,n){return this.constructor(e,n)}function Ne(e,t,n){var r,l,_;f.__&&f.__(e,t),l=(r=typeof n=="function")?null:n&&n.__k||t.__k,_=[],j(t,e=(!r&&n||t).__k=Ce(b,null,[e]),l||U,U,t.ownerSVGElement!==void 0,!r&&n?[n]:l?null:t.firstChild?I.call(t.childNodes):null,_,!r&&n?n:l?l.__e:t.firstChild,r),pe(_,e)}I=ce.slice,f={__e:function(e,t,n,r){for(var l,_,i;t=t.__;)if((l=t.__c)&&!l.__)try{if((_=l.constructor)&&_.getDerivedStateFromError!=null&&(l.setState(_.getDerivedStateFromError(e)),i=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(e,r||{}),i=l.__d),i)return l.__E=l}catch(s){e=s}throw e}},le=0,T.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof e=="function"&&(e=e(C({},n),this.props)),e&&C(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),K(this))},T.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),K(this))},T.prototype.render=b,S=[],ie=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(e,t){return e.__v.__b-t.__v.__b},F.__r=0;var z,m,V,Z,B=0,me=[],W=[],ee=f.__b,te=f.__r,ne=f.diffed,_e=f.__c,re=f.unmount;function ge(e,t){f.__h&&f.__h(m,e,B||t),B=0;var n=m.__H||(m.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:W}),n.__[e]}function O(e){return B=1,Pe(be,e)}function Pe(e,t,n){var r=ge(z++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):be(void 0,t),function(s){var d=r.__N?r.__N[0]:r.__[0],h=r.t(d,s);d!==h&&(r.__N=[h,r.__[1]],r.__c.setState({}))}],r.__c=m,!m.u)){var l=function(s,d,h){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter(function(a){return a.__c});if(o.every(function(a){return!a.__N}))return!_||_.call(this,s,d,h);var v=!1;return o.forEach(function(a){if(a.__N){var c=a.__[0];a.__=a.__N,a.__N=void 0,c!==a.__[0]&&(v=!0)}}),!(!v&&r.__c.props===s)&&(!_||_.call(this,s,d,h))};m.u=!0;var _=m.shouldComponentUpdate,i=m.componentWillUpdate;m.componentWillUpdate=function(s,d,h){if(this.__e){var o=_;_=void 0,l(s,d,h),_=o}i&&i.call(this,s,d,h)},m.shouldComponentUpdate=l}return r.__N||r.__}function Ee(e,t){var n=ge(z++,3);!f.__s&&Le(n.__H,t)&&(n.__=e,n.i=t,m.__H.__h.push(n))}function De(){for(var e;e=me.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(M),e.__H.__h.forEach(R),e.__H.__h=[]}catch(t){e.__H.__h=[],f.__e(t,e.__v)}}f.__b=function(e){m=null,ee&&ee(e)},f.__r=function(e){te&&te(e),z=0;var t=(m=e.__c).__H;t&&(V===m?(t.__h=[],m.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=W,n.__N=n.i=void 0})):(t.__h.forEach(M),t.__h.forEach(R),t.__h=[])),V=m},f.diffed=function(e){ne&&ne(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(me.push(t)!==1&&Z===f.requestAnimationFrame||((Z=f.requestAnimationFrame)||Ae)(De)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==W&&(n.__=n.__V),n.i=void 0,n.__V=W})),V=m=null},f.__c=function(e,t){t.some(function(n){try{n.__h.forEach(M),n.__h=n.__h.filter(function(r){return!r.__||R(r)})}catch(r){t.some(function(l){l.__h&&(l.__h=[])}),t=[],f.__e(r,n.__v)}}),_e&&_e(e,t)},f.unmount=function(e){re&&re(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{M(r)}catch(l){t=l}}),n.__H=void 0,t&&f.__e(t,n.__v))};var oe=typeof requestAnimationFrame=="function";function Ae(e){var t,n=function(){clearTimeout(r),oe&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);oe&&(t=requestAnimationFrame(n))}function M(e){var t=m,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),m=t}function R(e){var t=m;e.__c=e.__(),m=t}function Le(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function be(e,t){return typeof t=="function"?t(e):t}var Te=0;function u(e,t,n,r,l,_){var i,s,d={};for(s in t)s=="ref"?i=t[s]:d[s]=t[s];var h={type:e,props:d,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Te,__source:l,__self:_};if(typeof e=="function"&&(i=e.defaultProps))for(s in i)d[s]===void 0&&(d[s]=i[s]);return f.vnode&&f.vnode(h),h}function We({todos:e,setTodos:t,setShowWorkspaces:n}){return u("div",{class:"workspaces",children:e.map(r=>{const l=()=>{t(e.map(_=>_.id==r.id?{..._,color:(()=>{switch(r.color){case"red":return"orange";case"orange":return"yellow";case"yellow":return"green";case"green":return"blue";case"blue":return"pink";case"pink":return"purple";default:return"red"}})()}:_))};return u("div",{onClick:()=>{n(r.id)},class:((r==null?void 0:r.color)||"orange")+" workspace",children:[u("div",{class:"title",children:r==null?void 0:r.title}),u("div",{class:"tools",children:u("span",{class:"tool changeColor",onClick:()=>{l()},children:"color"})})]})})})}function ke(){let e=new Date;return`${e.getDate()}-${e.getMonth()} ${e.getHours()}:${e.getMinutes()}`}function Me({setTodos:e,todos:t}){return u("button",{class:"add",onClick:()=>{let n=new Date;e([...t,{title:ke(),date:Date.now(),id:Date.now().toLocaleString(),color:"yellow",todos:[{content:`hello world ${n.getDate()}.${n.getMonth()}.${n.getFullYear()} !`,date:Date.now(),id:Date.now().toLocaleString()}]}])},children:"+"})}function Ue({setTodos:e,todos:t,workspace:n,setAfter:r}){let[l,_]=O("");return u(b,{children:u("div",{class:"popup",children:[u("input",{type:"text",class:"input",placeholder:"Write some note...",onInput:i=>{var s;_((s=i.target)==null?void 0:s.value)}}),u("div",{class:"content",children:[u("button",{class:"material-symbols-outlined button _add",onClick:()=>{Fe({setTodos:e,todos:t,workspace:n},l),r(u(b,{}))},children:"add"}),u("button",{class:"button close",onClick:()=>{r(u(b,{}))},children:"close"})]})]})})}function Fe({setTodos:e,todos:t,workspace:n},r){e(t.map(l=>{if(l.id==n.id){let _=Date.now();return{...n,todos:[...n.todos,{content:r,date:_,id:_.toLocaleString()}]}}return l}))}function we({setTodos:e,todos:t,workspace:n}){let[r,l]=O(u(b,{}));return u(b,{children:[r,u("button",{class:"add",onClick:()=>{l(u(b,{children:u(Ue,{setAfter:l,setTodos:e,todos:t,workspace:n})}))},children:"+"})]})}function Oe({id:e,setTodos:t,todo:n,todos:r,workspace:l}){return u("div",{class:"todo",children:[u("div",{class:"body",children:u("span",{class:"text",children:n})}),u("button",{class:"remove",onClick:()=>{l.todos=l.todos.filter(_=>_.id!=e),t(r.map(_=>_.id==l.id?{..._,todos:_.todos.filter(i=>i.id!=e)}:_))},children:u("span",{class:"material-symbols-outlined icon",children:"delete"})})]})}function Ie({setTodos:e,todos:t,id:n,setShowWorkspaces:r}){let l=t.find(i=>i.id==n),_=ke();return u("div",{class:"showWorkspace",children:l?u(b,{children:[u("div",{class:"header",children:[u("button",{class:"return",onClick:()=>{e(t.filter(i=>i.id!=n)),r("")},children:u("span",{class:"material-symbols-outlined icon",children:"delete"})}),u("input",{class:"title",onChange:i=>{e(t.map(s=>{var d;return s.id==l.id?{...l,title:((d=i.target)==null?void 0:d.value)||_}:s}))},value:l==null?void 0:l.title,placeholder:_}),u("button",{class:"return",onClick:()=>{r("")},children:u("span",{class:"material-symbols-outlined icon",children:"arrow_back"})})]}),u("div",{class:"todos",children:l==null?void 0:l.todos.map(i=>u(Oe,{id:i.id,todo:i.content,workspace:l,setTodos:e,todos:t}))}),u(we,{setTodos:e,todos:t,workspace:l})]}):u(b,{children:[u("h1",{children:"404"}),u("p",{children:"something broke... this note group doesn't exist"}),u("button",{class:"goback",onClick:()=>{r("")},children:"Go back"})]})})}function Ve(){let e=JSON.parse(localStorage.getItem("nk_todos")||"[]")||[];e||(e=[]);let[t,n]=O(""),[r,l]=O(e);return Ee(()=>{localStorage.setItem("nk_todos",JSON.stringify(r))},[r]),u(b,{children:t?u(Ie,{id:t,setShowWorkspaces:n,setTodos:l,todos:r}):u(b,{children:u("div",{class:"app",children:[u("div",{class:"header",children:"My notes"}),u(We,{setShowWorkspaces:n,setTodos:l,todos:r}),u(Me,{setTodos:l,todos:r})]})})})}Ne(u(Ve,{}),document.getElementById("app"));
